<?xml version='1.0' encoding='UTF-8'?>

<domain xmlns="urn:jboss:domain:8.0">

    <extensions>
        <?EXTENSIONS?>
    </extensions>

    <system-properties>
        <property name="java.net.preferIPv4Stack" value="true"/>
    </system-properties>

    <management>
        <access-control provider="simple">
            <role-mapping>
                <role name="SuperUser">
                    <include>
                        <user name="$local"/>
                    </include>
                </role>
            </role-mapping>
        </access-control>
    </management>

    <profiles>
        <profile name="default">
            <?SUBSYSTEMS socket-binding-group="standard-sockets"?>
        </profile>
        <profile name="ha">
            <?SUBSYSTEMS socket-binding-group="ha-sockets"?>
        </profile>
        <profile name="full">
            <?SUBSYSTEMS socket-binding-group="full-sockets"?>
        </profile>
        <profile name="full-ha">
            <?SUBSYSTEMS socket-binding-group="full-ha-sockets"?>
        </profile>
        <profile name="load-balancer">
            <?SUBSYSTEMS socket-binding-group="load-balancer-sockets"?>
        </profile>
    </profiles>

    <interfaces>
        <interface name="management"/>
        <interface name="public"/>
        <?INTERFACES?>
    </interfaces>

    <socket-binding-groups>
        <socket-binding-group name="standard-sockets" default-interface="public">
            <?SOCKET-BINDINGS?>
        </socket-binding-group>
        <socket-binding-group name="ha-sockets" default-interface="public">
            <?SOCKET-BINDINGS?>
        </socket-binding-group>
        <socket-binding-group name="full-sockets" default-interface="public">
            <?SOCKET-BINDINGS?>
        </socket-binding-group>
        <socket-binding-group name="full-ha-sockets" default-interface="public">
            <?SOCKET-BINDINGS?>
        </socket-binding-group>
        <socket-binding-group name="load-balancer-sockets" default-interface="public">
            <?SOCKET-BINDINGS?>
        </socket-binding-group>
    </socket-binding-groups>

    <server-groups>
        <server-group name="main-server-group" profile="full">
            <jvm name="default">
                <heap size="1000m" max-size="1000m"/>
            </jvm>
            <socket-binding-group ref="full-sockets"/>
        </server-group>
        <server-group name="other-server-group" profile="full-ha">
            <jvm name="default">
                <heap size="1000m" max-size="1000m"/>
            </jvm>
            <socket-binding-group ref="full-ha-sockets"/>
        </server-group>
    </server-groups>

    <host-excludes>
        <host-exclude name="EAP62">
            <host-release id="EAP6.2"/>
            <excluded-extensions>
                <extension module="org.wildfly.extension.batch.jberet"/>
                <extension module="org.wildfly.extension.bean-validation"/>
                <extension module="org.wildfly.extension.clustering.singleton"/>
                <extension module="org.wildfly.extension.core-management"/>
                <extension module="org.wildfly.extension.datasources-agroal" />
                <extension module="org.wildfly.extension.discovery"/>
                <extension module="org.wildfly.extension.ee-security"/>
                <extension module="org.wildfly.extension.elytron"/>
                <extension module="org.wildfly.extension.io"/>
                <extension module="org.wildfly.extension.messaging-activemq"/>
                <extension module="org.wildfly.extension.microprofile.config-smallrye" />
                <extension module="org.wildfly.extension.microprofile.health-smallrye" />
                <extension module="org.wildfly.extension.microprofile.opentracing-smallrye" />
                <extension module="org.wildfly.extension.request-controller"/>
                <extension module="org.wildfly.extension.security.manager"/>
                <extension module="org.wildfly.extension.undertow"/>
                <extension module="org.wildfly.iiop-openjdk"/>
            </excluded-extensions>
        </host-exclude>
        <host-exclude name="EAP63">
            <host-release id="EAP6.3"/>
            <excluded-extensions>
                <extension module="org.wildfly.extension.batch.jberet"/>
                <extension module="org.wildfly.extension.bean-validation"/>
                <extension module="org.wildfly.extension.clustering.singleton"/>
                <extension module="org.wildfly.extension.core-management"/>
                <extension module="org.wildfly.extension.datasources-agroal" />
                <extension module="org.wildfly.extension.discovery"/>
                <extension module="org.wildfly.extension.ee-security"/>
                <extension module="org.wildfly.extension.elytron"/>
                <extension module="org.wildfly.extension.io"/>
                <extension module="org.wildfly.extension.messaging-activemq"/>
                <extension module="org.wildfly.extension.microprofile.config-smallrye" />
                <extension module="org.wildfly.extension.microprofile.health-smallrye" />
                <extension module="org.wildfly.extension.microprofile.opentracing-smallrye" />
                <extension module="org.wildfly.extension.request-controller"/>
                <extension module="org.wildfly.extension.security.manager"/>
                <extension module="org.wildfly.extension.undertow"/>
                <extension module="org.wildfly.iiop-openjdk"/>
            </excluded-extensions>
        </host-exclude>
        <host-exclude name="EAP64">
            <host-release id="EAP6.4"/>
            <excluded-extensions>
                <extension module="org.wildfly.extension.batch.jberet"/>
                <extension module="org.wildfly.extension.bean-validation"/>
                <extension module="org.wildfly.extension.clustering.singleton"/>
                <extension module="org.wildfly.extension.core-management"/>
                <extension module="org.wildfly.extension.datasources-agroal" />
                <extension module="org.wildfly.extension.discovery"/>
                <extension module="org.wildfly.extension.ee-security"/>
                <extension module="org.wildfly.extension.elytron"/>
                <extension module="org.wildfly.extension.io"/>
                <extension module="org.wildfly.extension.messaging-activemq"/>
                <extension module="org.wildfly.extension.microprofile.config-smallrye" />
                <extension module="org.wildfly.extension.microprofile.health-smallrye" />
                <extension module="org.wildfly.extension.microprofile.opentracing-smallrye" />
                <extension module="org.wildfly.extension.request-controller"/>
                <extension module="org.wildfly.extension.security.manager"/>
                <extension module="org.wildfly.extension.undertow"/>
                <extension module="org.wildfly.iiop-openjdk"/>
            </excluded-extensions>
        </host-exclude>
        <host-exclude name="EAP64z">
            <host-api-version major-version="1" minor-version="8"/>
            <excluded-extensions>
                <extension module="org.wildfly.extension.batch.jberet"/>
                <extension module="org.wildfly.extension.bean-validation"/>
                <extension module="org.wildfly.extension.clustering.singleton"/>
                <extension module="org.wildfly.extension.core-management"/>
                <extension module="org.wildfly.extension.datasources-agroal" />
                <extension module="org.wildfly.extension.discovery"/>
                <extension module="org.wildfly.extension.ee-security"/>
                <extension module="org.wildfly.extension.elytron"/>
                <extension module="org.wildfly.extension.io"/>
                <extension module="org.wildfly.extension.messaging-activemq"/>
                <extension module="org.wildfly.extension.microprofile.config-smallrye" />
                <extension module="org.wildfly.extension.microprofile.health-smallrye" />
                <extension module="org.wildfly.extension.microprofile.opentracing-smallrye" />
                <extension module="org.wildfly.extension.request-controller"/>
                <extension module="org.wildfly.extension.security.manager"/>
                <extension module="org.wildfly.extension.undertow"/>
                <extension module="org.wildfly.iiop-openjdk"/>
            </excluded-extensions>
        </host-exclude>
        <host-exclude name="EAP70">
            <host-release id="EAP7.0"/>
            <excluded-extensions>
                <extension module="org.wildfly.extension.core-management"/>
                <extension module="org.wildfly.extension.datasources-agroal" />
                <extension module="org.wildfly.extension.discovery"/>
                <extension module="org.wildfly.extension.ee-security"/>
                <extension module="org.wildfly.extension.elytron"/>
                <extension module="org.wildfly.extension.microprofile.config-smallrye" />
                <extension module="org.wildfly.extension.microprofile.health-smallrye" />
                <extension module="org.wildfly.extension.microprofile.opentracing" />
            </excluded-extensions>
        </host-exclude>
        <host-exclude name="EAP71">
            <host-release id="EAP7.1"/>
            <excluded-extensions>
                <extension module="org.wildfly.extension.datasources-agroal" />
                <extension module="org.wildfly.extension.ee-security"/>
                <extension module="org.wildfly.extension.microprofile.config-smallrye" />
                <extension module="org.wildfly.extension.microprofile.health-smallrye" />
                <extension module="org.wildfly.extension.microprofile.opentracing-smallrye" />
            </excluded-extensions>
        </host-exclude>
    </host-excludes>

</domain>
